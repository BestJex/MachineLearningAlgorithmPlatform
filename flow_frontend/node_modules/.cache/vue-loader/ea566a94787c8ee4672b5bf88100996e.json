{"remainingRequest":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\src\\components\\ItemPanel\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\src\\components\\ItemPanel\\index.vue","mtime":1592804685686},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Item from './item'\r\nimport eventBus from '@/utils/eventBus'\r\nexport default {\r\n  components: { Item },\r\n  data() {\r\n    return {\r\n      page: null,\r\n      command: null,\r\n\r\n      // 可拉伸侧边栏\r\n      isActive: false,\r\n      startX: 0,\r\n      endX: 0,\r\n      DEFAULT_ITEM_WIDTH: 200,\r\n      DEFAULT_RESIZER_LEFT: 190,\r\n      MAX_ITEM_WIDTH: 400,\r\n      MIN_ITEM_WIDTH: 180\r\n    }\r\n  },\r\n  computed: {\r\n    itemWidth: {\r\n      get() {\r\n        return this.$store.getters.itemWidth\r\n      },\r\n      set(val) {\r\n        this.$store.dispatch('app/setItemPannelWidth', val)\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.bindEvent()\r\n  },\r\n  methods: {\r\n    bindEvent() {\r\n      eventBus.$on('afterAddPage', page => {\r\n        this.page = page\r\n      })\r\n    },\r\n    onResizeMouseDown(e) {\r\n      this.isActive = true\r\n      this.startX = e.clientX\r\n\r\n      let itempannel = document.getElementById('itempannel')\r\n      let resizer = document.getElementById('item-resizer')\r\n\r\n      var preItemWidth = this.itemWidth\r\n      document.onmousemove = e => {\r\n        this.onResizeMouseMove(e, preItemWidth, itempannel, resizer)\r\n      }\r\n\r\n      document.onmouseup = e => {\r\n        this.isActive = false\r\n        var nowItempannelWidth = parseInt(\r\n          itempannel.style.width.replace('px', '')\r\n        )\r\n        if (nowItempannelWidth !== this.itemWidth) {\r\n          this.itemWidth = nowItempannelWidth\r\n        }\r\n        // this.$store.dispatch(\r\n        //   'app/setItemPannelWidth',\r\n        //   parseInt(itempannel.style.width.replace('px', ''))\r\n        // )\r\n      }\r\n    },\r\n    onResizeMouseMove(e, preItemWidth, itempannel, resizer) {\r\n      if (e.witch === 0) {\r\n        this.isActive = false\r\n      }\r\n\r\n      if (this.isActive) {\r\n        this.endX = e.clientX\r\n\r\n        let nowItempannelWidth = parseInt(\r\n          itempannel.style.width.replace('px', '')\r\n        )\r\n        if (\r\n          nowItempannelWidth <= this.MAX_ITEM_WIDTH &&\r\n          nowItempannelWidth >= this.MIN_ITEM_WIDTH\r\n        ) {\r\n          itempannel.style.width = preItemWidth - this.startX + this.endX + 'px'\r\n          resizer.style.left = preItemWidth - this.startX + this.endX + 'px'\r\n        }\r\n\r\n        nowItempannelWidth = parseInt(itempannel.style.width.replace('px', ''))\r\n        let nowResizerLeft = parseInt(resizer.style.left.replace('px', ''))\r\n        if (nowItempannelWidth > this.MAX_ITEM_WIDTH) {\r\n          itempannel.style.width = `${this.MAX_ITEM_WIDTH}px`\r\n          resizer.style.left = `${this.MAX_ITEM_WIDTH - 10}px`\r\n        } else if (\r\n          nowItempannelWidth < this.MIN_ITEM_WIDTH ||\r\n          nowResizerLeft < this.MIN_ITEM_WIDTH\r\n        ) {\r\n          itempannel.style.width = `${this.MIN_ITEM_WIDTH}px`\r\n          resizer.style.left = `${this.MIN_ITEM_WIDTH - 10}px`\r\n          resizer.style.left = `${this.MIN_ITEM_WIDTH - 10}px`\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",null]}