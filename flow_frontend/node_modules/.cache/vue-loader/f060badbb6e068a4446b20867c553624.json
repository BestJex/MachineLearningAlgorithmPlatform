{"remainingRequest":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\src\\components\\DetailPanel\\components\\visualizeEcharts.vue?vue&type=script&lang=js&","dependencies":[{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\src\\components\\DetailPanel\\components\\visualizeEcharts.vue","mtime":1592804685684},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport fileApi from '@/api/file'\r\nimport { Notification } from 'element-ui'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'visualize-echarts',\r\n  props: {\r\n    seclectedCol: {\r\n      type: Array\r\n    },\r\n    pid: {\r\n      type: String\r\n    }\r\n  },\r\n  computed: {\r\n    isShowEcharts: {\r\n      get() {\r\n        var show = this.$store.getters.isShowEcharts\r\n        if (show) {\r\n        }\r\n        return show\r\n      },\r\n      set(val) {\r\n        this.$store.commit('app/SET_ISSHOWECHARTS', val)\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chartDatas: [],\r\n      // chartData: {\r\n      //   columns: ['日期', '访问用户', '下单用户', '下单率'],\r\n      //   rows: [\r\n      //     { 日期: '1/1', 访问用户: 1393, 下单用户: 1093, 下单率: 0.32 },\r\n      //     { 日期: '1/2', 访问用户: 3530, 下单用户: 3230, 下单率: 0.26 },\r\n      //     { 日期: '1/3', 访问用户: 2923, 下单用户: 2623, 下单率: 0.76 },\r\n      //     { 日期: '1/4', 访问用户: 1723, 下单用户: 1423, 下单率: 0.49 },\r\n      //     { 日期: '1/5', 访问用户: 3792, 下单用户: 3492, 下单率: 0.323 },\r\n      //     { 日期: '1/6', 访问用户: 4593, 下单用户: 4293, 下单率: 0.78 }\r\n      //   ]\r\n      // }\r\n      graphId: 0,\r\n    }\r\n  },\r\n  created() {\r\n    this.graphId = this.$route.params.id || this.$store.getters.graphId\r\n    var selectedIndex = []\r\n    this.seclectedCol.forEach(col => {\r\n      selectedIndex.push(col[0])\r\n    })\r\n    console.log(selectedIndex)\r\n    fileApi\r\n      .previewEcharts({ graphId: this.graphId, queries: selectedIndex, pid: this.pid })\r\n      .then(res => {\r\n        var data = res.data\r\n        for (var i in data) {\r\n          var chartData = {}\r\n\r\n          var rows = []\r\n          var index = 1\r\n          data[i].forEach(d => {\r\n            var obj = {}\r\n            obj['Series'] = index++\r\n            obj[`Col ${i}`] = d\r\n            rows.push(obj)\r\n          })\r\n\r\n          chartData.id = i\r\n          chartData.columns = ['Series', `Col ${i}`]\r\n          chartData.rows = rows\r\n          this.chartDatas.push(chartData)\r\n        }\r\n      })\r\n  }\r\n}\r\n",null]}