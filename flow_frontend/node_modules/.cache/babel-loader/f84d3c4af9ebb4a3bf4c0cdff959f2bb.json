{"remainingRequest":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\babel-loader\\lib\\index.js!W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\src\\components\\Flow\\teamNode.js","dependencies":[{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\src\\components\\Flow\\teamNode.js","mtime":1592804685685},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"W:\\ArtificialIntelligenceOpenPlatformOfNankaiUniversity\\MachineLearningAlgorithmPlatform\\flow_frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import G6 from \"@antv/g6/build/g6\";\nimport { uniqueId } from '@/utils';\nimport openSvg from '@/assets/icons/open.svg';\nimport closeSvg from '@/assets/icons/close.svg';\nimport store from \"@/store\";\nvar teamNode = {\n  init: function init() {\n    G6.registerNode(\"teamNode\", {\n      draw: function draw(cfg, group) {\n        var padding = 10;\n        var top = 20; // 此处必须是NUMBER 不然bbox不正常\n\n        var width = cfg.width + padding * 2;\n        var height = cfg.height + padding * 2; // 此处必须有偏移 不然drag-node错位\n\n        var offsetX = -width / 2;\n        var offsetY = -height / 2 - top;\n        store.dispatch('app/uniqueId');\n        var mainId = 'rect' + store.state.app.max_id;\n        var shape = group.addShape(\"rect\", {\n          attrs: {\n            id: mainId,\n            x: offsetX,\n            y: offsetY,\n            width: width,\n            height: height + top,\n            stroke: \"#ced4d9\",\n            fill: '#f2f4f5',\n            //此处必须有fill 不然不能触发事件\n            radius: 4\n          }\n        });\n        store.dispatch('app/uniqueId');\n        group.addShape(\"text\", {\n          attrs: {\n            id: 'label' + store.state.app.max_id,\n            x: offsetX + padding,\n            y: offsetY + padding,\n            textBaseline: 'top',\n            text: cfg.label || '新建分组',\n            parent: mainId,\n            fill: \"#565758\"\n          }\n        });\n        group.addShape(\"image\", {\n          attrs: {\n            x: offsetX + width - 26,\n            y: offsetY + 8,\n            width: 16,\n            height: 16,\n            img: closeSvg\n          }\n        }); // 添加文本、更多图形\n\n        return shape;\n      },\n      //设置状态\n      setState: function setState(name, value, item) {\n        var group = item.getContainer();\n        var shape = group.get(\"children\")[0]; // 顺序根据 draw 时确定\n\n        var selectStyles = function selectStyles() {\n          shape.attr(\"stroke\", \"#6ab7ff\");\n          shape.attr(\"cursor\", \"move\");\n        };\n\n        var unSelectStyles = function unSelectStyles() {\n          shape.attr(\"stroke\", \"#ced4d9\");\n        };\n\n        switch (name) {\n          case \"selected\":\n          case \"hover\":\n            if (value) {\n              selectStyles();\n            } else {\n              unSelectStyles();\n            }\n\n            break;\n        }\n      }\n    });\n  }\n};\nexport default teamNode;",null]}