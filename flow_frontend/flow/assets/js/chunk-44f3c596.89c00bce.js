(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44f3c596"],{"4cb3":function(e,t,s){},"859f":function(e,t,s){"use strict";var a=s("4cb3"),n=s.n(a);n.a},f8ae:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container view"},[s("div",{staticClass:"left_box"},[s("ul",{staticClass:"aside"},e._l(e.asideList,(function(t,a){return s("li",{key:t.id,class:{asideActive:t.id===e.asideIndex},on:{click:function(s){return e.asideClick(t.id)}}},[s("a",{staticClass:"zl",staticStyle:{cursor:"pointer"}},[e._v(e._s(t.title))])])})),0)]),e._v(" "),s("div",{staticClass:"view-container",staticStyle:{"margin-left":"250px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.asideIndex,expression:"asideIndex === 1"}],staticClass:"cont view"},[s("div",{staticClass:"right_cont"},[s("h3",{staticClass:"title"},[e._v("个人资料")]),e._v(" "),s("div",{staticClass:"user_info"},[e._m(0),e._v(" "),s("div",{staticClass:"right_c"},[s("div",{staticClass:"nick"},[e.changeInformationFlag?e._e():s("span",{staticClass:"mod",on:{click:function(t){return e.changeInformation()}}},[e._v("\n\t\t\t\t\t\t\t\t修改资料\n\t\t\t\t\t\t\t")]),e._v(" "),e.changeInformationFlag?s("span",{staticClass:"mod",on:{click:function(t){return e.saveChangeInformation()}}},[e._v("\n\t\t\t\t\t\t\t\t保存资料\n\t\t\t\t\t\t\t")]):e._e()]),e._v(" "),s("ul",{staticClass:"self"},e._l(e.userInfo,(function(t,a){return s("li",{key:t.id,staticClass:"comon"},[s("div",[s("span",[e._v(e._s(t.title)+"：")]),e._v(" "),e.changeInformationFlag?e._e():s("span",[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(t.value?t.value:"不告诉你！")+"\n\t\t\t\t\t\t\t\t\t")]),e._v(" "),e.changeInformationFlag?s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],attrs:{disabled:1===t.id},domProps:{value:t.value},on:{input:function(s){s.target.composing||e.$set(t,"value",s.target.value)}}}):e._e()])])})),0)])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===e.asideIndex,expression:"asideIndex === 2"}],staticClass:"acc_project"},[e._m(1),e._v(" "),s("div",{staticClass:"acc_pass_con"},[s("div",{staticStyle:{"margin-bottom":"20px"}},[s("span",[e._v("等级：")]),e._v(" "),s("span",[e._v(e._s(e.userLevel))]),e._v(" "),s("span",{staticStyle:{"margin-left":"100px"}},[e._v("已上传文件总数：")]),e._v(" "),s("span",[e._v(e._s(e.userFileCount))]),e._v(" "),s("span",{staticStyle:{"margin-left":"100px"}},[e._v("已上传文件总大小：")]),e._v(" "),s("span",[e._v(e._s((e.userTotalSize/1024).toFixed(2))+"KB / "+e._s(e.userLevel+1)+"G")])]),e._v(" "),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.fileTableData,"tooltip-effect":"dark","default-sort":{prop:"buildtime",order:"descending"}}},[s("el-table-column",{attrs:{prop:"buildtime",label:"日期",width:"200",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"size",label:"文件大小",width:"200",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("\n\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t")])]}}])})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3===e.asideIndex,expression:"asideIndex === 3"}],staticClass:"acc_pass"},[e._m(2),e._v(" "),s("div",{staticClass:"acc_pass_con"},[s("ul",{staticClass:"acc_pass_list"},[s("li",[s("label",[e._v("输入旧密码：")]),e._v(" "),s("label",{attrs:{for:"oldPassword"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"inpt",attrs:{type:"password",name:"password",id:"oldPassword",placeholder:"输入旧密码",autocomplete:"off",validate:"true","data-rule":"['password']",oncopy:"return false"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})]),e._v(" "),s("li",[s("label",[e._v("输入新密码：")]),e._v(" "),s("label",{attrs:{for:"password"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"inpt",attrs:{type:"password",name:"password",id:"password",placeholder:"6-18位数字和字母组合",autocomplete:"off",validate:"true","data-rule":"['password']",oncopy:"return false"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),e._v(" "),s("li",[s("label",[e._v("确认新密码：")]),e._v(" "),s("label",{attrs:{for:"confirmPwd"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNewPassword,expression:"confirmNewPassword"}],staticClass:"inpt",attrs:{id:"confirmPwd",type:"password",placeholder:"确认新密码",autocomplete:"off",oncopy:"return false"},domProps:{value:e.confirmNewPassword},on:{input:function(t){t.target.composing||(e.confirmNewPassword=t.target.value)}}})]),e._v(" "),s("li",{staticClass:"acc_pass_b"},[s("button",{staticClass:"confirm_btn confirm_disable",on:{click:function(t){return e.changePassword()}}},[e._v("确认")])]),e._v(" "),s("br")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:6===e.asideIndex,expression:"asideIndex === 6"}],staticClass:"content"},[e._m(3),e._v(" "),e._m(4)])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("img",{staticClass:"head",attrs:{src:s("aca7"),alt:""}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"acc_index_t"},[s("h3",{staticClass:"acc_t"},[s("strong",[e._v("项目列表")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"acc_index_t"},[s("h3",{staticClass:"acc_t"},[s("strong",[e._v("修改密码")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bar"},[s("h3",{staticClass:"title"},[e._v("绑定登录帐号")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"bind_list"},[s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_weixin.png",alt:"微信"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("微信")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("相守相忘")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br"),e._v(" "),s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_qq.png",alt:"QQ"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("QQ")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("rm -rf /*")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br"),e._v(" "),s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_github.png",alt:"GitHub"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("GitHub")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("koking0")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br"),e._v(" "),s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_baidu.png",alt:"百度"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("百度")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("刘***k")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br")])}],i=(s("7f7f"),s("3f5e")),o=s("5c96"),l=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?s("i",{class:e.iconClass}):s("i",{class:e.typeClass}),e._v(" "),e._t("default",[e.dangerouslyUseHTMLString?s("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):s("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e._v(" "),e.showClose?s("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])},c=[],d={success:"success",info:"info",warning:"warning",error:"error"},u={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-".concat(d[this.type]):""},positionStyle:function(){return{top:"".concat(this.verticalOffset,"px")}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},m=u,f=s("2877"),v=Object(f["a"])(m,r,c,!1,null,null,null),p=v.exports,h=function(e){for(let t=1,s=arguments.length;t<s;t++){let s=arguments[t]||{};for(let t in s)if(s.hasOwnProperty(t)){let a=s[t];void 0!==a&&(e[t]=a)}}return e};const _=l["default"].prototype.$isServer,g=/([\:\-\_]+(.))/g,w=/^moz([A-Z])/,C=_?0:Number(document.documentMode),y=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},b=function(e){return e.replace(g,(function(e,t,s,a){return a?s.toUpperCase():s})).replace(w,"Moz$1")};(function(){!_&&document.addEventListener})(),function(){!_&&document.removeEventListener}();function x(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function I(e,t){if(e){for(var s=e.className,a=(t||"").split(" "),n=0,i=a.length;n<i;n++){var o=a[n];o&&(e.classList?e.classList.add(o):x(e,o)||(s+=" "+o))}e.classList||(e.className=s)}}function k(e,t){if(e&&t){for(var s=t.split(" "),a=" "+e.className+" ",n=0,i=s.length;n<i;n++){var o=s[n];o&&(e.classList?e.classList.remove(o):x(e,o)&&(a=a.replace(" "+o+" "," ")))}e.classList||(e.className=y(a))}}const P=C<9?function(e,t){if(!_){if(!e||!t)return null;t=b(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(s){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(s){return e.style[t]}}}:function(e,t){if(!_){if(!e||!t)return null;t=b(t),"float"===t&&(t="cssFloat");try{var s=document.defaultView.getComputedStyle(e,"");return e.style[t]||s?s[t]:null}catch(a){return e.style[t]}}};let S,$=!1,N=!1;const E=function(){if(l["default"].prototype.$isServer)return;let e=T.modalDom;return e?$=!0:($=!1,e=document.createElement("div"),T.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){T.doOnModalClick&&T.doOnModalClick()}))),e},L={},T={modalFade:!0,getInstance:function(e){return L[e]},register:function(e,t){e&&t&&(L[e]=t)},deregister:function(e){e&&(L[e]=null,delete L[e])},nextZIndex:function(){return T.zIndex++},modalStack:[],doOnModalClick:function(){const e=T.modalStack[T.modalStack.length-1];if(!e)return;const t=T.getInstance(e.id);t&&t.closeOnClickModal&&t.close()},openModal:function(e,t,s,a,n){if(l["default"].prototype.$isServer)return;if(!e||void 0===t)return;this.modalFade=n;const i=this.modalStack;for(let l=0,r=i.length;l<r;l++){const t=i[l];if(t.id===e)return}const o=E();if(I(o,"v-modal"),this.modalFade&&!$&&I(o,"v-modal-enter"),a){let e=a.trim().split(/\s+/);e.forEach(e=>I(o,e))}setTimeout(()=>{k(o,"v-modal-enter")},200),s&&s.parentNode&&11!==s.parentNode.nodeType?s.parentNode.appendChild(o):document.body.appendChild(o),t&&(o.style.zIndex=t),o.tabIndex=0,o.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:a})},closeModal:function(e){const t=this.modalStack,s=E();if(t.length>0){const a=t[t.length-1];if(a.id===e){if(a.modalClass){let e=a.modalClass.trim().split(/\s+/);e.forEach(e=>k(s,e))}t.pop(),t.length>0&&(s.style.zIndex=t[t.length-1].zIndex)}else for(let s=t.length-1;s>=0;s--)if(t[s].id===e){t.splice(s,1);break}}0===t.length&&(this.modalFade&&I(s,"v-modal-leave"),setTimeout(()=>{0===t.length&&(s.parentNode&&s.parentNode.removeChild(s),s.style.display="none",T.modalDom=void 0),k(s,"v-modal-leave")},200))}};Object.defineProperty(T,"zIndex",{configurable:!0,get(){return N||(S=S||(l["default"].prototype.$ELEMENT||{}).zIndex||2e3,N=!0),S},set(e){S=e}});const F=function(){if(!l["default"].prototype.$isServer&&T.modalStack.length>0){const e=T.modalStack[T.modalStack.length-1];if(!e)return;const t=T.getInstance(e.id);return t}};l["default"].prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){const e=F();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}));var z=T;let O;var D=function(){if(l["default"].prototype.$isServer)return 0;if(void 0!==O)return O;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",e.appendChild(s);const a=s.offsetWidth;return e.parentNode.removeChild(e),O=t-a,O};let j,A=1;Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;const M=Object.prototype.hasOwnProperty;function B(e,t){return M.call(e,t)}function H(e){return null!==e&&"object"===typeof e&&B(e,"componentOptions")}let Z,Q=l["default"].extend(p),G=[],U=1;const q=function(e){if(l["default"].prototype.$isServer)return;e=e||{},"string"===typeof e&&(e={message:e});let t=e.onClose,s="message_"+U++;e.onClose=function(){q.close(s,t)},Z=new Q({data:e}),Z.id=s,H(Z.message)&&(Z.$slots.default=[Z.message],Z.message=null),Z.$mount(),document.body.appendChild(Z.$el);let a=e.offset||20;return G.forEach(e=>{a+=e.$el.offsetHeight+16}),Z.verticalOffset=a,Z.visible=!0,Z.$el.style.zIndex=z.nextZIndex(),G.push(Z),Z};["success","warning","info","error"].forEach(e=>{q[e]=t=>("string"===typeof t&&(t={message:t}),t.type=e,q(t))}),q.close=function(e,t){let s,a=G.length,n=-1;for(let i=0;i<a;i++)if(e===G[i].id){s=G[i].$el.offsetHeight,n=i,"function"===typeof t&&t(G[i]),G.splice(i,1);break}if(!(a<=1||-1===n||n>G.length-1))for(let i=n;i<a-1;i++){let e=G[i].$el;e.style["top"]=parseInt(e.style["top"],10)-s-16+"px"}},q.closeAll=function(){for(let e=G.length-1;e>=0;e--)G[e].close()};var J=q,K={name:"PersonalCenter",data:function(){return{asideList:[{id:1,name:"PersonalData",title:"个人资料"},{id:2,name:"ProjectList",title:"项目列表"},{id:3,name:"ChangePassword",title:"修改密码"},{id:6,name:"BindAccount",title:"绑定账号"}],asideIndex:1,token:"",changeInformationFlag:!1,userInfo:[{id:1,name:"username",title:"昵称",value:localStorage.getItem("username")},{id:2,name:"name",title:"姓名",value:""},{id:3,name:"gender",title:"性别",value:""},{id:5,name:"phone",title:"手机",value:""},{id:6,name:"mailbox",title:"邮箱",value:""}],userLevel:0,userTotalSize:0,userFileCount:0,oldPassword:"",newPassword:"",confirmNewPassword:"",changePasswordError:"",fileTableData:[]}},methods:{handleDelete:function(e,t){var s=this;i["a"].deleteFile({id:t.id}).then((function(e){Object(o["Notification"])({title:"成功",message:"文件移除成功",type:"success",duration:3e3}),s.$store.commit("app/SET_FILELIST",e.data)})),location.reload()},asideClick:function(e){this.asideIndex=e},changePassword:function(){var e=this;(this.oldPassword.length<6||this.newPassword.length<6)&&this.$message({message:"密码位数错误！",type:"warning"}),this.newPassword!==this.confirmNewPassword&&this.$message({message:"新密码不一致！",type:"error"});var t={username:localStorage.getItem("username"),password:this.oldPassword,newpassword:this.newPassword};this.axios({method:"post",url:"http://39.105.21.62/flow/api/user/chapassword",data:t}).then((function(t){e.$message("密码更改成功！")})).catch((function(t){e.$message({message:t,type:"error"})}))},changeInformation:function(){this.changeInformationFlag=!0},saveChangeInformation:function(){var e=this,t=this.userInfo[3].value;if(/^1[34578]\d{9}$/.test(t)){var s=this.userInfo[4].value;if(/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(s)){this.changeInformationFlag=!1;var a={username:localStorage.getItem("username"),name:this.userInfo[1].value,gender:this.userInfo[2].value,phone:this.userInfo[3].value,mailbox:this.userInfo[4].value};this.axios({method:"post",url:"http://39.105.21.62/flow/api/user/chainformation",data:a}).then((function(t){e.$message({message:"保存成功！",type:"success"})})).catch((function(t){e.$message({message:t,type:"error"})}))}else J({message:"请填写正确的邮箱！",type:"warning"})}else J({message:"请填写正确的手机号！",type:"warning"})}},created:function(){var e=this;this.axios({method:"get",url:"http://39.105.21.62/flow/api/user/information?username=".concat(localStorage.getItem("username"))}).then((function(t){e.userInfo[1].value=t.data.data.name,e.userInfo[2].value=2===t.data.data.gender?"男":"女",e.userInfo[3].value=t.data.data.phone,e.userInfo[4].value=t.data.data.mailbox})).catch((function(t){e.$message({message:t,type:"error"})})),this.axios({method:"get",url:"http://39.105.21.62/flow/api/fileinf?username=".concat(localStorage.getItem("username"))}).then((function(t){e.userLevel=t.data.data.userlvl,e.userTotalSize=t.data.data.totalsize,e.userFileCount=t.data.data.filecount})).catch((function(t){e.$message({message:t,type:"error"})})),this.axios({method:"get",url:"http://39.105.21.62/flow/api/filelistall?username=".concat(localStorage.getItem("username"))}).then((function(t){e.fileTableData=Array(t.data.data.list)[0];for(var s=0;s<e.fileTableData.length;s++){var a=e.fileTableData[s],n=a.buildtime.indexOf("T"),i=a.buildtime.indexOf(".");a.buildtime=a.buildtime.substring(0,n)+" "+a.buildtime.substring(n+1,i),a.size=(parseInt(a.size)/1024).toFixed(2)+"KB"}console.log(e.fileTableData)})).catch((function(t){e.$message({message:t,type:"error"})}))}},W=K,V=(s("859f"),Object(f["a"])(W,a,n,!1,null,"0be7a970",null));t["default"]=V.exports}}]);