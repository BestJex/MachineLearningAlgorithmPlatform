(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13706968"],{"9a35":function(e,r,t){"use strict";var n=t("cdd5"),i=t.n(n);i.a},"9ed6":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"my-login-page"},[n("el-row",[n("el-col",{attrs:{span:24,align:"center"}},[n("div",{staticClass:"container h-100"},[n("div",{staticClass:"row justify-content-md-center h-100"},[n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"brand"},[n("img",{attrs:{src:t("aca7"),alt:"logo"}})]),e._v(" "),n("div",{staticClass:"card fat"},[n("el-form",{ref:"formLogin",attrs:{model:e.formLogin,rules:e.rules}},[n("h2",{staticClass:"card-title"},[e._v("Login")]),e._v(" "),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{clearable:"","prefix-icon":"el-icon-user-solid"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.login(r)}},model:{value:e.formLogin.username,callback:function(r){e.$set(e.formLogin,"username",r)},expression:"formLogin.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{"show-password":"","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.login(r)}},model:{value:e.formLogin.password,callback:function(r){e.$set(e.formLogin,"password",r)},expression:"formLogin.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{staticStyle:{width:"100%","font-weight":"bold"},attrs:{type:"primary",loading:e.loading},on:{click:e.login}},[e._v("登    录\n                                    ")])],1),e._v(" "),n("el-form-item",[e._v("\n                                    还没有账户?\n                                    "),n("router-link",{attrs:{to:"/register"}},[n("el-button",{attrs:{type:""}},[e._v("\n                                            注 册\n                                            "),n("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"footer"},[e._v("Copyright © 2019 — RKS")])])])])])],1)],1)},i=[],o=(t("ac6a"),t("456d"),{data:function(){var e=function(e,r,t){if(!r)return t(new Error("用户名不能为空！"));t()},r=function(e,r,t){if(!r)return t(new Error("密码不能为空！"));t()};return{formLogin:{username:"",password:"",checked:!1,redirect:void 0,otherQuery:{}},rules:{username:[{validator:e,trigger:"blur"}],password:[{validator:r,trigger:"blur"}]},loading:!1}},watch:{$route:{handler:function(e){var r=e.query;r&&(this.redirect=r.redirect,this.otherQuery=this.getOtherQuery(r))},immediate:!0}},methods:{login:function(){var e=this,r=this.formLogin,t={username:r.username,password:r.password};this.$refs["formLogin"].validate(function(r){if(!r)return e.$message.error("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/Login",t).then(function(){e.loading=!1,e.$router.push({path:e.redirect||"/",query:e.otherQuery})}).catch(function(r){e.loading=!1})})},getOtherQuery:function(e){return Object.keys(e).reduce(function(r,t){return"redirect"!==t&&(r[t]=e[t]),r},{})}}}),a=o,s=(t("9a35"),t("2877")),l=Object(s["a"])(a,n,i,!1,null,"8b978126",null);r["default"]=l.exports},cdd5:function(e,r,t){}}]);