(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf1f81f6"],{"1cbc":function(e,t,s){},"8c02":function(e,t,s){"use strict";var a=s("1cbc"),n=s.n(a);n.a},f8ae:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container view"},[s("div",{staticClass:"left_box"},[s("ul",{staticClass:"aside"},e._l(e.asideList,(function(t,a){return s("li",{key:t.id,class:{asideActive:t.id===e.asideIndex},on:{click:function(s){return e.asideClick(t.id)}}},[s("a",{staticClass:"zl",staticStyle:{cursor:"pointer"}},[e._v(e._s(t.title))])])})),0)]),e._v(" "),s("div",{staticClass:"view-container",staticStyle:{"margin-left":"250px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.asideIndex,expression:"asideIndex === 1"}],staticClass:"cont view"},[s("div",{staticClass:"right_cont"},[s("h3",{staticClass:"title"},[e._v("个人资料")]),e._v(" "),s("div",{staticClass:"user_info"},[e._m(0),e._v(" "),s("div",{staticClass:"right_c"},[s("div",{staticClass:"nick"},[e.changeInformationFlag?e._e():s("span",{staticClass:"mod",on:{click:function(t){return e.changeInformation()}}},[e._v("\n\t\t\t\t\t\t\t\t修改资料\n\t\t\t\t\t\t\t")]),e._v(" "),e.changeInformationFlag?s("span",{staticClass:"mod",on:{click:function(t){return e.saveChangeInformation()}}},[e._v("\n\t\t\t\t\t\t\t\t保存资料\n\t\t\t\t\t\t\t")]):e._e()]),e._v(" "),s("ul",{staticClass:"self"},e._l(e.userInfo,(function(t,a){return s("li",{key:t.id,staticClass:"comon"},[s("div",[s("span",[e._v(e._s(t.title)+"：")]),e._v(" "),e.changeInformationFlag?e._e():s("span",[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(t.value?t.value:"不告诉你！")+"\n\t\t\t\t\t\t\t\t\t")]),e._v(" "),e.changeInformationFlag?s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],attrs:{disabled:1===t.id},domProps:{value:t.value},on:{input:function(s){s.target.composing||e.$set(t,"value",s.target.value)}}}):e._e()])])})),0)])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===e.asideIndex,expression:"asideIndex === 2"}],staticClass:"acc_project"},[e._m(1),e._v(" "),s("div",{staticClass:"acc_pass_con"},[s("div",{staticStyle:{"margin-bottom":"20px"}},[s("span",[e._v("等级：")]),e._v(" "),s("span",[e._v(e._s(e.userLevel))]),e._v(" "),s("span",{staticStyle:{"margin-left":"100px"}},[e._v("已上传文件总数：")]),e._v(" "),s("span",[e._v(e._s(e.userFileCount))]),e._v(" "),s("span",{staticStyle:{"margin-left":"100px"}},[e._v("已上传文件总大小：")]),e._v(" "),s("span",[e._v(e._s((e.userTotalSize/1024).toFixed(2))+"KB / "+e._s(e.userLevel+1)+"G")])]),e._v(" "),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.fileList,"tooltip-effect":"dark","default-sort":{prop:"buildtime",order:"descending"}}},[s("el-table-column",{attrs:{prop:"buildtime",label:"日期",width:"200",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"size",label:"文件大小",width:"200",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("\n\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t")])]}}])})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3===e.asideIndex,expression:"asideIndex === 3"}],staticClass:"acc_pass"},[e._m(2),e._v(" "),s("div",{staticClass:"acc_pass_con"},[s("ul",{staticClass:"acc_pass_list"},[s("li",[s("label",[e._v("输入旧密码：")]),e._v(" "),s("label",{attrs:{for:"oldPassword"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"inpt",attrs:{type:"password",name:"password",id:"oldPassword",placeholder:"输入旧密码",autocomplete:"off",validate:"true","data-rule":"['password']",oncopy:"return false"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})]),e._v(" "),s("li",[s("label",[e._v("输入新密码：")]),e._v(" "),s("label",{attrs:{for:"password"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"inpt",attrs:{type:"password",name:"password",id:"password",placeholder:"6-18位数字和字母组合",autocomplete:"off",validate:"true","data-rule":"['password']",oncopy:"return false"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),e._v(" "),s("li",[s("label",[e._v("确认新密码：")]),e._v(" "),s("label",{attrs:{for:"confirmPwd"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNewPassword,expression:"confirmNewPassword"}],staticClass:"inpt",attrs:{id:"confirmPwd",type:"password",placeholder:"确认新密码",autocomplete:"off",oncopy:"return false"},domProps:{value:e.confirmNewPassword},on:{input:function(t){t.target.composing||(e.confirmNewPassword=t.target.value)}}})]),e._v(" "),s("li",{staticClass:"acc_pass_b"},[s("button",{staticClass:"confirm_btn confirm_disable",on:{click:function(t){return e.changePassword()}}},[e._v("确认")])]),e._v(" "),s("br")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:6===e.asideIndex,expression:"asideIndex === 6"}],staticClass:"content"},[e._m(3),e._v(" "),e._m(4)])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("img",{staticClass:"head",attrs:{src:s("aca7"),alt:""}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"acc_index_t"},[s("h3",{staticClass:"acc_t"},[s("strong",[e._v("项目列表")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"acc_index_t"},[s("h3",{staticClass:"acc_t"},[s("strong",[e._v("修改密码")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bar"},[s("h3",{staticClass:"title"},[e._v("绑定登录帐号")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"bind_list"},[s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_weixin.png",alt:"微信"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("微信")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("相守相忘")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br"),e._v(" "),s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_qq.png",alt:"QQ"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("QQ")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("rm -rf /*")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br"),e._v(" "),s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_github.png",alt:"GitHub"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("GitHub")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("koking0")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br"),e._v(" "),s("li",{staticClass:"item_cont"},[s("img",{staticClass:"icon_img",attrs:{src:"https://i.csdn.net/static/img/bind_baidu.png",alt:"百度"}}),e._v(" "),s("span",{staticClass:"method_name"},[e._v("百度")]),e._v(" "),s("span",{staticClass:"user_name"},[e._v("刘***k")]),e._v(" "),s("a",{staticClass:"handle_text remove_text",attrs:{href:"javascript:void(0)"}},[e._v("解绑")])]),e._v(" "),s("br")])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("ade3")),o=s("2f62"),l=s("3f5e"),r=s("5c96"),c=s("2b0e"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?s("i",{class:e.iconClass}):s("i",{class:e.typeClass}),e._v(" "),e._t("default",[e.dangerouslyUseHTMLString?s("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):s("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e._v(" "),e.showClose?s("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])},u=[],m={success:"success",info:"info",warning:"warning",error:"error"},f={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-".concat(m[this.type]):""},positionStyle:function(){return{top:"".concat(this.verticalOffset,"px")}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},v=f,p=s("2877"),h=Object(p["a"])(v,d,u,!1,null,null,null),_=h.exports,g=function(e){for(let t=1,s=arguments.length;t<s;t++){let s=arguments[t]||{};for(let t in s)if(s.hasOwnProperty(t)){let a=s[t];void 0!==a&&(e[t]=a)}}return e};const w=c["default"].prototype.$isServer,y=/([\:\-\_]+(.))/g,C=/^moz([A-Z])/,b=w?0:Number(document.documentMode),x=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},I=function(e){return e.replace(y,(function(e,t,s,a){return a?s.toUpperCase():s})).replace(C,"Moz$1")};(function(){!w&&document.addEventListener})(),function(){!w&&document.removeEventListener}();function P(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function k(e,t){if(e){for(var s=e.className,a=(t||"").split(" "),n=0,i=a.length;n<i;n++){var o=a[n];o&&(e.classList?e.classList.add(o):P(e,o)||(s+=" "+o))}e.classList||(e.className=s)}}function S(e,t){if(e&&t){for(var s=t.split(" "),a=" "+e.className+" ",n=0,i=s.length;n<i;n++){var o=s[n];o&&(e.classList?e.classList.remove(o):P(e,o)&&(a=a.replace(" "+o+" "," ")))}e.classList||(e.className=x(a))}}const $=b<9?function(e,t){if(!w){if(!e||!t)return null;t=I(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(s){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(s){return e.style[t]}}}:function(e,t){if(!w){if(!e||!t)return null;t=I(t),"float"===t&&(t="cssFloat");try{var s=document.defaultView.getComputedStyle(e,"");return e.style[t]||s?s[t]:null}catch(a){return e.style[t]}}};let O,E=!1,L=!1;const N=function(){if(c["default"].prototype.$isServer)return;let e=j.modalDom;return e?E=!0:(E=!1,e=document.createElement("div"),j.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){j.doOnModalClick&&j.doOnModalClick()}))),e},F={},j={modalFade:!0,getInstance:function(e){return F[e]},register:function(e,t){e&&t&&(F[e]=t)},deregister:function(e){e&&(F[e]=null,delete F[e])},nextZIndex:function(){return j.zIndex++},modalStack:[],doOnModalClick:function(){const e=j.modalStack[j.modalStack.length-1];if(!e)return;const t=j.getInstance(e.id);t&&t.closeOnClickModal&&t.close()},openModal:function(e,t,s,a,n){if(c["default"].prototype.$isServer)return;if(!e||void 0===t)return;this.modalFade=n;const i=this.modalStack;for(let l=0,r=i.length;l<r;l++){const t=i[l];if(t.id===e)return}const o=N();if(k(o,"v-modal"),this.modalFade&&!E&&k(o,"v-modal-enter"),a){let e=a.trim().split(/\s+/);e.forEach(e=>k(o,e))}setTimeout(()=>{S(o,"v-modal-enter")},200),s&&s.parentNode&&11!==s.parentNode.nodeType?s.parentNode.appendChild(o):document.body.appendChild(o),t&&(o.style.zIndex=t),o.tabIndex=0,o.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:a})},closeModal:function(e){const t=this.modalStack,s=N();if(t.length>0){const a=t[t.length-1];if(a.id===e){if(a.modalClass){let e=a.modalClass.trim().split(/\s+/);e.forEach(e=>S(s,e))}t.pop(),t.length>0&&(s.style.zIndex=t[t.length-1].zIndex)}else for(let s=t.length-1;s>=0;s--)if(t[s].id===e){t.splice(s,1);break}}0===t.length&&(this.modalFade&&k(s,"v-modal-leave"),setTimeout(()=>{0===t.length&&(s.parentNode&&s.parentNode.removeChild(s),s.style.display="none",j.modalDom=void 0),S(s,"v-modal-leave")},200))}};Object.defineProperty(j,"zIndex",{configurable:!0,get(){return L||(O=O||(c["default"].prototype.$ELEMENT||{}).zIndex||2e3,L=!0),O},set(e){O=e}});const z=function(){if(!c["default"].prototype.$isServer&&j.modalStack.length>0){const e=j.modalStack[j.modalStack.length-1];if(!e)return;const t=j.getInstance(e.id);return t}};c["default"].prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){const e=z();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}));var T=j;let D;var M=function(){if(c["default"].prototype.$isServer)return 0;if(void 0!==D)return D;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",e.appendChild(s);const a=s.offsetWidth;return e.parentNode.removeChild(e),D=t-a,D};let A,B=1;Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;const H=Object.prototype.hasOwnProperty;function Z(e,t){return H.call(e,t)}function Q(e){return null!==e&&"object"===typeof e&&Z(e,"componentOptions")}let G,U=c["default"].extend(_),q=[],J=1;const W=function(e){if(c["default"].prototype.$isServer)return;e=e||{},"string"===typeof e&&(e={message:e});let t=e.onClose,s="message_"+J++;e.onClose=function(){W.close(s,t)},G=new U({data:e}),G.id=s,Q(G.message)&&(G.$slots.default=[G.message],G.message=null),G.$mount(),document.body.appendChild(G.$el);let a=e.offset||20;return q.forEach(e=>{a+=e.$el.offsetHeight+16}),G.verticalOffset=a,G.visible=!0,G.$el.style.zIndex=T.nextZIndex(),q.push(G),G};["success","warning","info","error"].forEach(e=>{W[e]=t=>("string"===typeof t&&(t={message:t}),t.type=e,W(t))}),W.close=function(e,t){let s,a=q.length,n=-1;for(let i=0;i<a;i++)if(e===q[i].id){s=q[i].$el.offsetHeight,n=i,"function"===typeof t&&t(q[i]),q.splice(i,1);break}if(!(a<=1||-1===n||n>q.length-1))for(let i=n;i<a-1;i++){let e=q[i].$el;e.style["top"]=parseInt(e.style["top"],10)-s-16+"px"}},W.closeAll=function(){for(let e=q.length-1;e>=0;e--)q[e].close()};var K=W;function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function R(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?V(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var X={name:"PersonalCenter",data:function(){return{asideList:[{id:1,name:"PersonalData",title:"个人资料"},{id:2,name:"ProjectList",title:"项目列表"},{id:3,name:"ChangePassword",title:"修改密码"},{id:6,name:"BindAccount",title:"绑定账号"}],asideIndex:1,token:"",changeInformationFlag:!1,userInfo:[{id:1,name:"username",title:"昵称",value:localStorage.getItem("username")},{id:2,name:"name",title:"姓名",value:""},{id:3,name:"gender",title:"性别",value:""},{id:5,name:"phone",title:"手机",value:""},{id:6,name:"mailbox",title:"邮箱",value:""}],userLevel:0,userTotalSize:0,userFileCount:0,oldPassword:"",newPassword:"",confirmNewPassword:"",changePasswordError:""}},computed:R({},Object(o["b"])(["docHeight","fileList"])),methods:{handleDelete:function(e,t){var s=this;l["a"].deleteFile({id:t.id}).then((function(e){Object(r["Notification"])({title:"成功",message:"文件移除成功",type:"success",duration:3e3}),s.$store.commit("app/SET_FILELIST",e.data)})),location.reload()},asideClick:function(e){this.asideIndex=e},changePassword:function(){var e=this;(this.oldPassword.length<6||this.newPassword.length<6)&&this.$message({message:"密码位数错误！",type:"warning"}),this.newPassword!==this.confirmNewPassword&&this.$message({message:"新密码不一致！",type:"error"});var t={username:localStorage.getItem("username"),password:this.oldPassword,newpassword:this.newPassword};this.axios({method:"post",url:"http://39.105.21.62/flow/api/user/chapassword",data:t}).then((function(t){e.$message("密码更改成功！")})).catch((function(t){e.$message({message:t,type:"error"})}))},changeInformation:function(){this.changeInformationFlag=!0},saveChangeInformation:function(){var e=this,t=this.userInfo[3].value;if(/^1[34578]\d{9}$/.test(t)){var s=this.userInfo[4].value;if(/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(s)){this.changeInformationFlag=!1;var a={username:localStorage.getItem("username"),name:this.userInfo[1].value,gender:this.userInfo[2].value,phone:this.userInfo[3].value,mailbox:this.userInfo[4].value};this.axios({method:"post",url:"http://39.105.21.62/flow/api/user/chainformation",data:a}).then((function(t){e.$message({message:"保存成功！",type:"success"})})).catch((function(t){e.$message({message:t,type:"error"})}))}else K({message:"请填写正确的邮箱！",type:"warning"})}else K({message:"请填写正确的手机号！",type:"warning"})}},created:function(){var e=this;this.$store.dispatch("app/getFileList"),this.axios({method:"get",url:"http://39.105.21.62/flow/api/user/information?username=".concat(localStorage.getItem("username"))}).then((function(t){e.userInfo[1].value=t.data.data.name,e.userInfo[2].value=2===t.data.data.gender?"男":"女",e.userInfo[3].value=t.data.data.phone,e.userInfo[4].value=t.data.data.mailbox})).catch((function(t){e.$message({message:t,type:"error"})})),this.axios({method:"get",url:"http://39.105.21.62/flow/api/fileinf?username=".concat(localStorage.getItem("username"))}).then((function(t){e.userLevel=t.data.data.userlvl,e.userTotalSize=t.data.data.totalsize,e.userFileCount=t.data.data.filecount})).catch((function(t){e.$message({message:t,type:"error"})}))}},Y=X,ee=(s("8c02"),Object(p["a"])(Y,a,n,!1,null,"3fb5d806",null));t["default"]=ee.exports}}]);